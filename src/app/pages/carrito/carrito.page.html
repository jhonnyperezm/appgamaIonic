<ion-header no-border>
  <ion-toolbar color="facebook">
      <ion-buttons  slot="start">
          <ion-back-button mode="md" defaultHref="/inicio"></ion-back-button>
        </ion-buttons>
    <ion-title slot="secondary">Carrito de Compras </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content  class="animated fadeIn" padding>
  <div class="container ">
    <div class=" flex-container">
      <div class="p-2 flex-grow-1 bd-highlight">
        <ion-avatar class=" avatar pt-2">
          <img src="../../../assets/img/no-image.png" />
        </ion-avatar>

      </div>

      <h3 class="p-2 bd-highlight">Total a Pagar </h3>
      <div class="pt-3">

        <ion-chip name="totalAdicionalesMasArt" ngDefaultControl
          [(ngModel)]="totalAdicionalesMasArt" class="p-2 bd-highlight padding-chip btn-primary animated pulse" color="facebook" mode="ios" outline="true">
          Total $ {{total}}
        </ion-chip>

      </div>
    </div>

    <h2 class="ion-text-center">Tu Pedido</h2>

    <ion-grid fixed>
   
      <ion-row>
        <ion-col size="12">

          <ion-list *ngFor="let data of carritoFinal; let i = index" class="ion-activatable animated fadeIn " #lista inset="true" mode="ios">
            <ion-item-sliding>
              <ion-item>
                <ion-thumbnail slot="start">
                  <img src="../../../assets/img/no-image.png">
                </ion-thumbnail>
                <ion-icon  slot="end" mode="md" name="arrow-dropleft"></ion-icon>
                
                <ion-label >
                  <h2>{{data.nombreArticulo}}</h2>
                  <p>$ valor total con o sin adicionales</p>
                </ion-label>
               
                <ion-label >
                  cantidad
                  <ion-text slot="end" color="dark">
                      <h1 [ngClass]="{'pl-4' : data.adicionales.length != 0}">
                        <ion-icon (click)="restarCantidad(data, i)" *ngIf="data.adicionales.length == 0"  color="facebook" class="size " name="remove-circle-outline"></ion-icon>  
                        {{data.cantidad}}
                        <ion-icon (click)="sumarCantidad(data)" *ngIf="data.adicionales.length == 0" color="facebook" class="size" name="add-circle-outline"></ion-icon>
            
                      </h1>
                    </ion-text>
                </ion-label>
                
                <ion-label >
                  observaciones <br>
                  <ion-label  *ngFor="let dataAdi of data.adicionales">
                    <p *ngIf="data.adicionales != undefined" class="text-lh">{{dataAdi.nombreArticuloAdicional}}</p>
                    
                  </ion-label>
                  <ion-label *ngIf="data.adicionales == undefined "><p>Ninguna</p></ion-label>
                
                </ion-label>


              </ion-item>

              <!-- *ngIf="item.contadorArt >= 1" (click)="borrar(item.idArticulo, i)" -->
              <ion-item-options side="end">
                <ion-item-option (click)="borrar(data , i)" color="danger">
                  <ion-icon slot="icon-only" name="close"></ion-icon>
                </ion-item-option>
              </ion-item-options>

            </ion-item-sliding>
          </ion-list>

        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  


</ion-content>  
<ion-footer>
  <ion-toolbar>
    <ion-button (click)="elimninarPedido()" color="facebook" class="custom animated bounceIn ">
      Eliminar Pedido
    </ion-button>
    <ion-button (click)="seguirComprando()" color="facebook" class="custom-1 animated bounceIn ">
      Seguir Comprando
    </ion-button>
    <ion-button (click)="enviarPedido(data)" color="facebook" class="custom-2 animated bounceIn ">
      Enviar Pedio
    </ion-button>
    <app-footer></app-footer>
  </ion-toolbar>
</ion-footer>
